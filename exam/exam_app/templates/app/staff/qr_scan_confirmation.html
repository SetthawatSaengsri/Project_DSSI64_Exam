{% extends "app/base.html" %}

{% block content %}
<div class="max-w-lg mx-auto py-12 px-6 text-center">
    <!-- âœ… Popup à¹€à¸Šà¹‡à¸„à¸Šà¸·à¹ˆà¸­à¸ªà¸³à¹€à¸£à¹‡à¸ˆ -->
    <div id="success-modal" class="hidden fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50">
        <div class="bg-white p-6 rounded-lg shadow-lg text-center">
            <div class="text-green-500 text-4xl">âœ”</div>
            <h2 class="text-2xl font-bold mt-3">à¹€à¸Šà¹‡à¸„à¸Šà¸·à¹ˆà¸­à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢!</h2>
            <p class="text-gray-700 mt-2">
                ğŸ“… à¸§à¸±à¸™/à¹€à¸§à¸¥à¸²: {{ checkin_time|date:"j M Y à¹€à¸§à¸¥à¸² H:i" }} à¸™.<br>
                ğŸ“– à¸§à¸´à¸Šà¸²: {{ subject.subject_name }}<br>
                ğŸ“Œ à¸ªà¸–à¸²à¸™à¸°: <span id="status-text">{{ attendance_status }}</span>
            </p>
            <button id="confirm-button" class="bg-blue-600 text-white px-6 py-2 rounded-lg mt-4">OK</button>
        </div>
    </div>

    <!-- âœ… à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸ªà¸”à¸‡à¹€à¸¡à¸·à¹ˆà¸­ Modal à¸›à¸´à¸” -->
    <div class="bg-gray-900 text-white p-6 rounded-lg shadow-xl">
        <h2 class="text-2xl font-bold text-green-400">âœ… à¸¥à¸‡à¸Šà¸·à¹ˆà¸­à¹€à¸‚à¹‰à¸²à¸«à¹‰à¸­à¸‡à¸ªà¸­à¸šà¸ªà¸³à¹€à¸£à¹‡à¸ˆ</h2>
        <p class="mt-3">ğŸ“– à¸§à¸´à¸Šà¸²: {{ subject.subject_name }}</p>
        <p>ğŸ“Œ à¸£à¸«à¸±à¸ª: {{ subject.subject_code }}</p>
        <p>ğŸ“… à¸§à¸±à¸™à¸—à¸µà¹ˆà¸ªà¸­à¸š: {{ subject.exam_date|date:"j M Y" }}</p>
        <p>â° à¹€à¸§à¸¥à¸²: {{ subject.start_time }} - {{ subject.end_time }}</p>
        <p>ğŸ« à¸«à¹‰à¸­à¸‡à¸ªà¸­à¸š: {{ subject.room }}</p>

        <p class="mt-3 text-xl font-bold text-blue-400">{{ student.student_id }}</p>
        <p>{{ student.user.first_name }} {{ student.user.last_name }}</p>
        <p>ğŸ”¢ à¹€à¸¥à¸‚à¸—à¸µà¹ˆà¸™à¸±à¹ˆà¸‡à¸ªà¸­à¸š: {{ seat_number }}</p>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // âœ… à¹€à¸›à¸´à¸” Modal à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¹€à¸¡à¸·à¹ˆà¸­à¸«à¸™à¹‰à¸²à¹‚à¸«à¸¥à¸”
        document.getElementById("success-modal").classList.remove("hidden");

        // âœ… à¸›à¸´à¸” Modal à¹€à¸¡à¸·à¹ˆà¸­à¸à¸” OK
        document.getElementById("confirm-button").addEventListener("click", function() {
            document.getElementById("success-modal").classList.add("hidden");
        });
    });
</script>
{% endblock %}
