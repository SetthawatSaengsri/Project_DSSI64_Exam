<!-- app/teacher/teacher_check_student.html -->

{% extends 'app/base.html' %}

{% block content %}
<h2 class="text-3xl font-bold text-indigo-700 text-center mb-6">üìö ‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∏‡∏°‡∏™‡∏≠‡∏ö</h2>

{% if subject_data %}
<div class="overflow-x-auto">
    <table class="min-w-full bg-white border border-gray-300 rounded-lg shadow-md">
        <thead class="bg-indigo-600 text-white">
            <tr>
                <th class="py-3 px-4 border-b text-left">#</th>
                <th class="py-3 px-4 border-b text-left">üìñ ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ä‡∏≤</th>
                <th class="py-3 px-4 border-b text-left">üî¢ ‡∏£‡∏´‡∏±‡∏™‡∏ß‡∏¥‡∏ä‡∏≤</th>
                <th class="py-3 px-4 border-b text-left">üéì ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</th>
                <th class="py-3 px-4 border-b text-center">‚úÖ ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö</th>
                <th class="py-3 px-4 border-b text-center">‚úÖ ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠</th>
            </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
            {% for entry in subject_data %}
            <tr class="hover:bg-indigo-100 transition duration-200">
                <td class="py-3 px-4 border-b">{{ forloop.counter }}</td>
                <td class="py-3 px-4 border-b">{{ entry.subject.subject_name }}</td>
                <td class="py-3 px-4 border-b">{{ entry.subject.subject_code }}</td>
                <td class="py-3 px-4 border-b">
                    {% for grade in entry.student_classes %}
                        <span class="bg-indigo-100 text-indigo-800 text-sm font-medium px-2 py-1 rounded-lg shadow">{{ grade }}</span>
                    {% empty %}
                        <span class="text-gray-500">‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏</span>
                    {% endfor %}
                </td>
                <td class="py-3 px-4 border-b text-center">
                    <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ 'exam_detail' -->
                    <a href="{% url 'exam_detail' entry.subject.id %}" 
                       class="bg-indigo-600 text-white px-4 py-2 rounded-lg shadow hover:bg-indigo-700 transition">
                       üìã ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö
                    </a>
                </td>
                <td class="py-3 px-4 border-b text-center">
                    <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ 'exam_attendance_status' -->
                    <a href="{% url 'exam_attendance_status' entry.subject.id %}" 
                       class="bg-indigo-600 text-white px-4 py-2 rounded-lg shadow hover:bg-indigo-700 transition">
                        üìå ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠
                    </a>
                </td>
            </tr>
            {% endfor %}    
        </tbody>
    </table>
</div>
{% else %}
    <p class="text-gray-500 text-lg text-center mt-6">‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠</p>
{% endif %}
{% endblock %}
